<!doctype html>
<html lang="en">
<body>

<div class="admin">
    <h2>Admin Dashboard</h2>

    <!-- Edit Dog Section -->
    <div class="edit-dog-section">
        <h3>Edit Dog</h3>
        <form (ngSubmit)="onUpdate()" enctype="multipart/form-data" ngNativeValidate>
            <div class="form-group">
                <label for="dogName">Name:</label>
                <input name="selectedDog.name" [(ngModel)]="newDog.name" class="form-control" placeholder="Name"
                       required>
            </div>
            <div class="form-group">
                <label for="dogName">Date of Birth:</label>
                <input type="date" name="selectedDog.dateOfBirth" [(ngModel)]="newDog.dateOfBirth" class="form-control"
                       placeholder="dateOfBirth" required>
            </div>
            <div class="form-group">
                <label for="dogName"> Gender:</label>
                <input name="selectedDog.gender" [(ngModel)]="newDog.gender" class="form-control" placeholder="gender"
                       required>
            </div>
            <div class="form-group">
                <label for="dogAge">Age:</label>
                <input type="number" [(ngModel)]="newDog.age" name="newDog.age" class="form-control" required>
            </div>
            <div class="form-group">
                <label for="dogName">Breed:</label>
                <input name="selectedDog.breed" [(ngModel)]="newDog.breed" class="form-control" placeholder="Breed"
                       required>
            </div>
            <div class="form-group">
                <label for="dogName">Dog Picture:</label>
                <input type="file" accept="image/png, image/jpeg, image/img" name="selectedDog.picture"
                       (change)="onFileChange($event)" class="form-control" style="width: 30px;" required>
                <p *ngIf="newDog.picture">{{newDog.picture.name}}</p>
            </div>

            <div class="form-group">
                <label for="dogName">Height:</label>
                <input type="number" name="selectedDog.height" [(ngModel)]="newDog.height" class="form-control" placeholder="Height">
            </div>
            <div class="form-group">
                <label for="dogName">Weight:</label>
                <input type="number" name="selectedDog.weight" [(ngModel)]="newDog.weight" class="form-control" placeholder="Weight">
            </div>
            <div class="form-group">
                <label for="dogName">Medical Condition:</label>
                <input [(ngModel)]="newDog.medicalConditions" name="selectedDog.medicalConditions" class="form-control"
                       placeholder="Medical Conditions" required>
            </div>
            <button type="submit" class="btn btn-primary">Update</button>
            <button type="button" class="btn btn-danger"><a href="/admin/dogs/add">Cancel</a></button>
        </form>
    </div>

    <!-- Display Dogs Table -->
    <div class="dogs-table">
        <h3>Dogs</h3>
        <table class="table table-striped">
            <thead>
            <tr>
                <th>Name</th>
                <th>Date Of Birth</th>
                <th>Gender</th>
                <th>Age</th>
                <th>Breed</th>
                <th>Picture</th>
                <th>Height</th>
                <th>Weight</th>
                <th>Medical Conditions</th>
                <th>Actions</th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let dog of dogs">
                <td>{{dog.name}}</td>
                <td>{{dog.dateOfBirth}}</td>
                <td>{{dog.gender}}</td>
                <td>{{dog.age}}</td>
                <td>{{dog.breed}}</td>
                <td><img src="data:image/png;base64,{{dog.picture}}" alt="Dog Picture" style="max-width: 30px;"></td>
                <td>{{dog.height}}</td>
                <td>{{dog.weight}}</td>
                <td>{{dog.medicalConditions}}</td>
                <td>
                    <button class="btn btn-sm btn-info" (click)="editDog(dog.id)" type="submit">Edit</button>
                    <button class="btn btn-sm btn-danger" (click)="deleteDog(dog.id)">Delete</button>
                </td>
            </tr>
            </tbody>
        </table>
    </div>

</div>
</body>
